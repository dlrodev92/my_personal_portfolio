---
// Timeline data - adjust dates and content as needed
const timelineEvents = [
  {
    date: "Early 2022",
    title: "The Beginning",
    description: "Started my coding journey with HTML, CSS, and basic JavaScript. Built my first static websites and fell in love with web development.",
    tech: ["HTML", "CSS", "JavaScript"],
    type: "milestone",
    id: "timeline-1"
  },
  {
    date: "Mid 2022",
    title: "Frontend Foundations",
    description: "Dove deep into React and modern frontend development. Created interactive applications and learned about component-based architecture.",
    tech: ["React", "Tailwind CSS", "Git"],
    type: "growth",
    id: "timeline-2"
  },
  {
    date: "Late 2022",
    title: "Full-Stack Evolution",
    description: "Expanded to backend development with Node.js and databases. Built my first full-stack applications with user authentication and data persistence.",
    tech: ["Node.js", "Express", "MongoDB", "PostgreSQL"],
    type: "growth",
    id: "timeline-3"
  },
  {
    date: "Early 2023",
    title: "Modern Frameworks",
    description: "Mastered Next.js and TypeScript. Started building production-ready applications with proper testing and deployment workflows.",
    tech: ["Next.js", "TypeScript", "Jest", "Vercel"],
    type: "milestone",
    id: "timeline-4"
  },
  {
    date: "Mid 2023",
    title: "Cloud & DevOps",
    description: "Ventured into cloud technologies and DevOps practices. Learned AWS services, containerization, and CI/CD pipelines.",
    tech: ["AWS", "Docker", "GitHub Actions", "Terraform"],
    type: "growth",
    id: "timeline-5"
  },
  {
    date: "Late 2023",
    title: "AI Integration",
    description: "Integrated AI and machine learning capabilities into applications. Built intelligent features using various AI APIs and models.",
    tech: ["OpenAI API", "LangChain", "Vector Databases", "Python"],
    type: "milestone",
    id: "timeline-6"
  },
  {
    date: "2024",
    title: "Freelance Success",
    description: "Started taking on freelance projects and building solutions for real clients. Developed expertise in delivering production-ready applications.",
    tech: ["Client Work", "Project Management", "Deployment", "Optimization"],
    type: "growth",
    id: "timeline-7"
  },
  {
    date: "Present",
    title: "Full-Stack Developer",
    description: "Currently building innovative web applications, contributing to open source, and constantly learning new technologies to stay at the forefront of development.",
    tech: ["React", "Next.js", "AWS", "TypeScript", "AI/ML"],
    type: "current",
    id: "timeline-8"
  }
];
---

<section class="py-20 min-h-screen px-4 sm:px-6 lg:px-8 bg-text-secondary/85">
  <div class="max-w-6xl mx-auto">
    
    
    <div class="bg-white rounded-3xl p-8 md:p-12 shadow-2xl">
      
      <!-- Header -->
      <div 
        id="timeline-header"
        class="text-center mb-16 opacity-0 transform transition-all duration-500 ease-out"
      >
        <p class="uppercase text-sm tracking-widest text-text-secondary mb-4">My Journey</p>
        <h2 class="font-display text-3xl sm:text-4xl font-bold text-black mb-6">
          From Zero to <span class="text-yellow-500">Full-Stack</span>
        </h2>
        <p class="font-body text-lg text-text-secondary max-w-2xl mx-auto">
          A timeline of my coding journey, from writing my first line of code to building production applications that solve real-world problems.
        </p>
      </div>

      <!-- Dynamic Timeline Grid -->
      <div class="relative">
        
        <!-- Central Progress Line -->
        <div class="absolute left-1/2 transform -translate-x-0.5 top-0 bottom-0 w-1 bg-gray-200 rounded-full hidden md:block">
          <div 
            id="timeline-progress" 
            class="absolute top-0 left-0 w-full bg-gradient-to-b from-yellow-500 to-black rounded-full transition-all duration-1500 ease-out"
            style="height: 0%"
          ></div>
        </div>

        <!-- Timeline Events in Dynamic Layout -->
        <div class="space-y-8 md:space-y-16">
          {timelineEvents.map((event, index) => (
            <div 
              id={event.id}
              class={`relative opacity-0 transform transition-all duration-400 ease-out group ${
                index % 2 === 0 
                  ? 'md:flex md:flex-row md:items-center' 
                  : 'md:flex md:flex-row-reverse md:items-center'
              }`}
            >
              
              <!-- Timeline Node -->
              <div class="absolute left-4 md:left-1/2 md:transform md:-translate-x-1/2 top-4 md:top-1/2 md:-translate-y-1/2 z-10">
                <div class={`w-6 h-6 rounded-full border-4 border-white shadow-xl ${
                  event.type === 'current' ? 'bg-yellow-500 animate-pulse shadow-yellow-500/50' :
                  event.type === 'milestone' ? 'bg-black shadow-black/30' : 'bg-gray-500 shadow-gray-500/30'
                } transition-all duration-300 group-hover:scale-125`}>
                  
                  <!-- Inner Glow Effect -->
                  <div class={`absolute inset-0 rounded-full ${
                    event.type === 'current' ? 'bg-yellow-500' :
                    event.type === 'milestone' ? 'bg-black' : 'bg-gray-500'
                  } animate-ping opacity-20`}></div>
                </div>
              </div>

              <!-- Content Container -->
              <div class={`w-full md:w-5/12 ml-16 md:ml-0 ${
                index % 2 === 0 ? 'md:mr-auto md:pr-8' : 'md:ml-auto md:pl-8'
              }`}>
                
                <!-- Dynamic Card Design -->
                <div class={`relative bg-white border-2 border-gray-200 rounded-2xl p-6 transform transition-all duration-300 hover:scale-105 hover:shadow-xl hover:-translate-y-2 ${
                  index % 2 === 0 ? 'hover:rotate-1' : 'hover:-rotate-1'
                }`}>
                  
                  <!-- Date Badge with Dynamic Position -->
                  <div class={`absolute ${
                    index % 2 === 0 ? '-top-3 -right-3' : '-top-3 -left-3'
                  } transform rotate-12`}>
                    <div class={`font-body text-xs px-4 py-2 rounded-full font-bold text-white shadow-lg ${
                      event.type === 'current' ? 'bg-yellow-500' :
                      event.type === 'milestone' ? 'bg-black' : 'bg-gray-500'
                    }`}>
                      {event.date}
                    </div>
                  </div>
                  
                  <!-- Content -->
                  <div class="pt-4">
                    <h3 class="font-display text-xl md:text-2xl font-bold text-black mb-4 group-hover:text-text-secondary transition-colors duration-300">
                      {event.title}
                    </h3>
                    
                    <p class="font-body text-text-muted mb-6 leading-relaxed group-hover:text-text-secondary transition-colors duration-300">
                      {event.description}
                    </p>
                    
                    <!-- Tech Tags with Floating Animation -->
                    <div class="flex flex-wrap gap-2">
                      {event.tech.map((tech, techIndex) => (
                        <span class={`font-body text-xs bg-gray-100 px-3 py-2 rounded-full text-text-secondary font-medium border border-gray-200 transition-all duration-300 hover:bg-gray-200 hover:scale-110 hover:shadow-md ${
                          techIndex % 3 === 0 ? 'hover:translate-y-1' : 
                          techIndex % 3 === 1 ? 'hover:-translate-y-1' : 'hover:translate-x-1'
                        }`}>
                          {tech}
                        </span>
                      ))}
                    </div>
                  </div>
                  
                  <!-- Background Animation Element -->
                  <div class="absolute inset-0 bg-gradient-to-br from-gray-50/20 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
                </div>
              </div>

              <!-- Connection Line for Mobile -->
              <div class="md:hidden absolute left-7 top-10 bottom-0 w-0.5 bg-gray-300 -z-10"></div>
            </div>
          ))}
        </div>
      </div>

      <!-- CV Download Item -->
      <div 
        id="cv-download-section"
        class="relative opacity-0 transform transition-all duration-400 ease-out mt-8 md:mt-16"
      >
        
        <!-- Timeline Node for CV -->
        <div class="absolute left-4 md:left-1/2 md:transform md:-translate-x-1/2 top-4 md:top-1/2 md:-translate-y-1/2 z-10">
          <div class="w-6 h-6 rounded-full border-4 border-white shadow-xl bg-yellow-500 shadow-yellow-500/50 transition-all duration-300 hover:scale-125">
            <div class="absolute inset-0 rounded-full bg-yellow-500 animate-ping opacity-20"></div>
          </div>
        </div>

        <!-- CV Content Container -->
        <div class="w-full md:w-5/12 ml-16 md:pl-8">
          <div class="relative bg-white border-2 border-gray-200 rounded-2xl p-6 transform transition-all duration-300 hover:scale-105 hover:shadow-xl hover:-translate-y-2 hover:-rotate-1">
            
            <!-- CV Badge -->
            <div class="absolute -top-3 -left-3 transform rotate-12">
              <div class="font-body text-xs px-4 py-2 rounded-full font-bold text-white shadow-lg bg-yellow-500">
                Download
              </div>
            </div>
            
            <!-- CV Content -->
            <div class="pt-4">
              <div class="flex items-center gap-4 mb-4">
                <div class="w-12 h-12 bg-gray-100 rounded-xl flex items-center justify-center">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="text-black">
                    <path fill="currentColor" d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8zm4 18H6V4h7v5h5z"/>
                    <path fill="currentColor" d="M8 12h8v2H8zm0 4h8v2H8zm0-8h2v2H8z"/>
                  </svg>
                </div>
                <h3 class="font-display text-xl md:text-2xl font-bold text-black group-hover:text-text-secondary transition-colors duration-300">
                  My Professional CV
                </h3>
              </div>
              
              <p class="font-body text-text-muted mb-6 leading-relaxed group-hover:text-text-secondary transition-colors duration-300">
                Complete professional background, detailed project experience, technical skills, and achievements in software development.
              </p>
              
              <!-- Download Button -->
              <a 
                href="/cv.pdf" 
                download="David_Rodriguez_CV.pdf"
                class="inline-flex items-center gap-3 bg-black text-white font-display font-bold px-6 py-3 rounded-lg hover:bg-text-secondary transition-all duration-300 transform hover:scale-105 group"
              >
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="group-hover:translate-y-0.5 transition-transform duration-300">
                  <path fill="currentColor" d="M5 20h14v-2H5zm7-18l-5 5h3v9h4v-9h3z"/>
                </svg>
                Download CV
              </a>
            </div>
            
            <!-- Background Animation Element -->
            <div class="absolute inset-0 bg-gradient-to-br from-gray-50/20 to-transparent rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
          </div>
        </div>

        <!-- Connection Line for Mobile -->
        <div class="md:hidden absolute left-7 top-10 bottom-0 w-0.5 bg-gray-300 -z-10"></div>
      </div>
    </div>
  </div>
</section>


<script>
  import { addElementToObserver } from '../../../helpers/observerHelper';
  
  addElementToObserver('timeline-header', 'blur-fade-in');
  
  
  addElementToObserver("timeline-1", "timeline-quick-1");
  addElementToObserver("timeline-2", "timeline-quick-2");
  addElementToObserver("timeline-3", "timeline-quick-3");
  addElementToObserver("timeline-4", "timeline-quick-4");
  addElementToObserver("timeline-5", "timeline-quick-5");
  addElementToObserver("timeline-6", "timeline-quick-6");
  addElementToObserver("timeline-7", "timeline-quick-7");
  addElementToObserver("timeline-8", "timeline-quick-8");
  
  addElementToObserver('cv-download-section', 'timeline-quick-9');
  
</script>