---
export interface Props {
  block: {
    id: string;
    type: 'image';
    url: string;
    alt: string;
    caption?: string;
    alignment?: 'left' | 'center' | 'right' | 'full';
  };
}

const { block } = Astro.props;

const alignmentClasses = {
  left: 'float-left mr-6 mb-4 max-w-sm',
  center: 'mx-auto',
  right: 'float-right ml-6 mb-4 max-w-sm',
  full: 'w-full'
};

const containerClasses = {
  left: '',
  center: 'text-center',
  right: '',
  full: ''
};

const alignment = block.alignment || 'center';
---

<figure class={`my-8 ${containerClasses[alignment]}`}>
  <img 
    src={block.url} 
    alt={block.alt}
    class={`rounded-lg shadow-lg ${alignmentClasses[alignment]}`}
    loading="lazy"
  />
  {block.caption && (
    <figcaption class="mt-3 text-sm text-gray-600 italic">
      {block.caption}
    </figcaption>
  )}
</figure>
